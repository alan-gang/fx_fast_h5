(this.webpackJsonpxystc_fxwap_fast=this.webpackJsonpxystc_fxwap_fast||[]).push([[3],{247:function(e,t,n){"use strict";var a=n(12),s=n(13),i=function(){function e(t,n,s){Object(a.a)(this,e),this.timerItval=0,this.fn=void 0,this.fn=n,this.start(t,n,s)}return Object(s.a)(e,[{key:"start",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;this.timerItval=window.setInterval((function(){if(e<=0)return clearInterval(n.timerItval),void t(0,!0);t(e,!1),e--}),a)}},{key:"close",value:function(){clearInterval(this.timerItval)}}]),e}();t.a=i},248:function(e,t,n){},249:function(e,t,n){},250:function(e,t,n){"use strict";var a,s,i=n(12),o=n(13),r=n(19),c=n(18),u=n(20),m=n(0),l=n.n(m),d=n(16),h=n(43),p=n(92),f=(n(248),Object(d.b)("store")(a=Object(d.c)(a=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(r.a)(this,Object(c.a)(t).call(this,e))).myScrollRef=void 0,n.scrollToSelectedElement=function(){var e=document.querySelector(".ludan-menu-view .menu-item.selected");n.myScrollRef.current.bscroll&&e&&n.myScrollRef.current.bscroll&&(n.myScrollRef.current.bscroll.x+=1,n.myScrollRef.current.bscroll.scrollToElement(e,150,!0))},n.changeMenu=function(e){n.props.updateMenu(e)},n.myScrollRef=l.a.createRef(),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.scrollToSelectedElement()}},{key:"componentWillReceiveProps",value:function(e){this.myScrollRef.current.refresh(),this.scrollToSelectedElement()}},{key:"render",value:function(){var e=this;return l.a.createElement("section",{className:"ludan-menu-view"},l.a.createElement(p.a,{ref:this.myScrollRef},l.a.createElement("nav",{className:"menu"},this.props.tabs&&this.props.tabs.length>0&&this.props.tabs.map((function(t,n){return l.a.createElement("div",{key:n,className:"menu-item ".concat(e.props.selectedMenu===t.name?"selected":""),onClick:function(){return e.changeMenu(t)}},t.title)})))))}}]),t}(m.Component))||a)||a),v=n(95),y=(n(249),Object(d.b)("store")(s=Object(d.c)(s=function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(r.a)(this,Object(c.a)(t).call(this,e))).state=void 0,n.updateMenu=function(e){n.setState({selectedMenu:e.name},n.updateLudanList)},n.updateLudanList=function(){n.setState({ludanList:Object(h.d)(n.props.issueList.slice(0),n.props.gameType,n.state.selectedMenu||"",n.props.maxRows,n.props.maxColumns)||[]})};var a=Object(h.a)(n.props.gameType,n.props.methodMenuName),s=n.props.defaultMenu||(a.length>0?a[0].name:""),o=Object(h.d)(n.props.issueList.slice(0),n.props.gameType,s||"",n.props.maxRows,n.props.maxColumns-1)||[];return n.state={selectedMenu:s,ludanList:o,tabs:a},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=Object(h.a)(e.gameType,e.methodMenuName),n=e.defaultMenu||(t.length>0?t[0].name:""),a=Object(h.d)(e.issueList.slice(0),e.gameType,this.state.selectedMenu||"",e.maxRows,e.maxColumns)||[];this.setState({selectedMenu:n,ludanList:a,tabs:t})}},{key:"render",value:function(){return l.a.createElement("section",{className:"ludan-view"},!1!==this.props.isShowLudanMenu&&l.a.createElement(f,{selectedMenu:this.state.selectedMenu,tabs:this.state.tabs,updateMenu:this.updateMenu,methodMenuName:this.props.methodMenuName}),l.a.createElement(v.a,{maxColumns:this.props.maxColumns,maxRows:this.props.maxRows,ludanList:this.state.ludanList,isScroll:this.props.isScroll}))}}]),t}(m.Component))||s)||s);t.a=y},258:function(e,t,n){},260:function(e,t,n){},261:function(e,t,n){},262:function(e,t,n){},263:function(e,t,n){},264:function(e,t,n){},269:function(e,t,n){},270:function(e,t,n){},271:function(e,t,n){},280:function(e,t,n){"use strict";n.r(t);var a,s,i=n(12),o=n(13),r=n(19),c=n(18),u=n(20),m=n(0),l=n.n(m),d=n(16),h=n(247),p=n(65),f=n(2),v=n(15),y=(n(258),Object(d.b)("store")(a=Object(d.c)(a=function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(r.a)(this,Object(c.a)(t).call(this,e))).state=void 0,n.curIssue=void 0,n.curTime=void 0,n.onLimitLevelChanged=function(e){n.props.store.game.updateGamesLimitLevel({gameId:n.props.gameId,level:parseInt(e,10)}),n.setState({curGameLimitLevel:parseInt(e,10)})},n.onLudanHandler=function(){n.props.update({type:"ludan",data:!n.props.isExpandLudan})},n.getNum=function(e){return f.a.K3===n.props.gameType?"":e};var a=e.store.game.getLimitListItemById(e.gameId),s=e.store.game.getGameLimitLevelByGameId(e.gameId);return n.curIssue=e.curIssue,n.curTime=e.curTime,n.state={timer:null,remainTime:n.props.remainTime,hours:"00",minutes:"00",seconds:"00",limitLevelList:a&&a.kqPrizeLimit||[],curGameLimitLevel:s&&s.level||1,tipText:"\u7b2c\u4e00\u6b21\u8fdb\u5165\u9700\u9009\u62e9\u9650\u7ea2\uff1b\u518d\u6b21\u8fdb\u5165\u4e0d\u9700\u8981\u9009\u62e9\u9650\u7ea2\uff1b\u9664\u975e\u8be5\u6e38\u620f\u9650\u7ea2\u4e0e\u4e4b\u524d\u6e38\u620f\u9650\u7ea2\u4e0d\u540c\u3002\u5f53\u5207\u6362\u4e0d\u540c\u7684\u9650\u7ea2\u6a21\u5f0f\u65f6\uff0c\u518d\u6b21\u6295\u6ce8\u540c\u4e00\u5f69\u79cd\uff0c\u9700\u81f3\u5c11\u95f4\u96941\u671f\u518d\u6295\u6ce8\u3002"},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.initTimer(this.props.remainTime)}},{key:"componentWillReceiveProps",value:function(e){var t=e.store.game.getLimitListItemById(e.gameId),n=e.store.game.getGameLimitLevelByGameId(e.gameId),a={limitLevelList:t&&t.kqPrizeLimit||[],curGameLimitLevel:n&&n.level||1};this.curIssue===e.curIssue&&this.curTime===e.curTime||(this.curIssue=e.curIssue,this.curTime=e.curTime,a.remainTime=e.remainTime,this.initTimer(e.remainTime)),this.setState(a)}},{key:"initTimer",value:function(e){var t=this;if(!(e<=0)){var n=this.state.timer,a="",s=[];n&&n.close&&(n.close(),n=null),n=new h.a(Math.floor(e),(function(e){e<=0&&t.props.getNewestIssue(t.props.gameId),a=Object(p.a)(1e3*e),s=a.split(":"),t.setState({hours:s[0],minutes:s[1],seconds:s[2]})})),this.setState({timer:n})}}},{key:"clearTimer",value:function(){this.state.timer&&this.state.timer.close&&this.state.timer.close()}},{key:"componentWillUnmount",value:function(){this.clearTimer()}},{key:"isHc6",value:function(){return this.props.gameType===f.a.HC6}},{key:"renderOpenNumbers",value:function(e,t){return this.isHc6()?5===t?l.a.createElement("div",{key:t,className:"icon-plus"},"+"):l.a.createElement("div",null,l.a.createElement("div",{key:t,className:"open-num-item n-".concat(String(e).padStart(2,"0"))},String(e).padStart(2,"0")),l.a.createElement("div",{className:"animal"},Object(v.e)(parseInt(e,10)))):l.a.createElement("div",{key:t,className:"open-num-item n-".concat(e)},this.getNum(e))}},{key:"render",value:function(){var e=this;return l.a.createElement("section",{className:"game-header-view ".concat(this.props.gameType)},l.a.createElement("section",{className:"flex ai-c last-issue-sec"},l.a.createElement("div",null,"\u7b2c",this.props.lastIssue,"\u671f\uff1a"),l.a.createElement("div",{className:"nums-wp"},this.props.openNumbers.map((function(t,n){return l.a.createElement(l.a.Fragment,{key:n},e.renderOpenNumbers(t,n))})))),l.a.createElement("section",{className:"flex ai-c jc-sb cur-issue-sec"},l.a.createElement("div",{className:"flex ai-c"},l.a.createElement("div",{className:"txt-r cur-issue-wp"},"\u8ddd",this.props.curIssue,"\u671f\u622a\u6b62:"),l.a.createElement("div",{className:"time-wp flex ai-c jc-c"},l.a.createElement("span",{className:"hour-wp"},this.state.hours),l.a.createElement("span",{className:"colon"},":"),l.a.createElement("span",{className:"minute-wp"},this.state.minutes),l.a.createElement("span",{className:"colon"},":"),l.a.createElement("span",{className:"second-wp"},this.state.seconds))),l.a.createElement("div",{className:"flex ai-c",onClick:this.onLudanHandler},"\u8def\u5355\u8d70\u52bf",l.a.createElement("span",{className:"icon-triangle ".concat(this.props.isExpandLudan?"up":"down")}))))}}]),t}(m.Component))||a)||a),g=n(259),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({title:"\u548c\u503c",type:"hz"},e)},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({title:"\u5927\u5c0f",type:"dx"},e)},M={title:"\u5355\u53cc",type:"ds"},L=function(e){return Object.assign({title:"\u9f99\u864e",type:"lh"},e)},S=(s={},Object(g.a)(s,f.a.SSC,[{name:"\u6574\u5408",ename:"zhenghe",recentType:[I({min:22})],ids:["1251:1","1250:1","1274:1","1275:1","1276:1"]},{name:"\u5b9a\u4f4d",ename:"dw",recentType:[b({min:4}),M],ids:["1253:1"]},{name:"\u9f99\u864e",ename:"lhh",recentType:[L({title:"\u4e07\u5343",range:{start:0,end:2}})],ids:["1273:1"]},{name:"\u4e00\u5b57\u7ec4\u5408",ename:"yzzh",recentType:[b({min:4}),M],ids:["1256:1","1257:1","1258:1","1259:1"]}]),Object(g.a)(s,f.a.G11X5,[{name:"\u6574\u5408",ename:"zhenghe",recentType:[I({min:22})],ids:["2050:1","2050:2","2053:2","2051:1"]},{name:"\u5b9a\u4f4d",ename:"dw",recentType:[b({min:4})],ids:["2052:1"]},{name:"\u9f99\u864e",ename:"lh",recentType:[L({name:"\u4e00\u4f4dVS\u4e8c\u4f4d",range:{start:0,end:2}})],ids:["2053:1"]}]),Object(g.a)(s,f.a.PK10,[{name:"\u6574\u5408",ename:"zhenghe",recentType:[I({range:[{start:0,end:1},{start:1,end:2}],changeTitle:["\u51a0\u4e9a\u5f00\u5956\u53f7\u7801"],min:11})],ids:["4053:1","4053:2","4050:1"]},{name:"\u9f99\u864e",ename:"lh",recentType:[L({name:"\u9f99\u864e",changeTitle:["\u51a0\u519b","\u7b2c\u5341\u540d"],range:[{start:0,end:1},{start:1,end:2}]})],ids:["4054:1"]},{name:"\u5b9a\u4f4d01-05",ename:"dwgy",ids:["4055:1:1"]},{name:"\u5b9a\u4f4d05-10",ename:"dwgy",ids:["4055:1:2"]},{name:"\u51a0\u4e9a\u7ec4\u5408",ename:"gyhz",recentType:[I({range:[{start:0,end:1},{start:1,end:2}],changeTitle:["\u51a0\u4e9a",["\u4e9a\u519b"]],min:11})],ids:["4050:2","4051:1","4052:1"]}]),Object(g.a)(s,f.a.K3,[{name:"\u70b9\u6570",ename:"diansu",recentType:[I({min:10})],ids:["5050:1","5051:1"]},{name:"\u4e09\u519b",ename:"shanjun",recentType:[I({min:10})],ids:["5052:1"]},{name:"\u56f4\u9ab0/\u5168\u9ab0",ename:"wqshai",recentType:[I({min:10})],ids:["5053:1"]},{name:"\u957f\u724c",ename:"changpai",recentType:[I({min:10})],ids:["5054:1"]},{name:"\u77ed\u724c",ename:"duanpai",recentType:[I({min:10})],ids:["5055:1"]},{name:"\u989c\u8272",ename:"yskd",recentType:[{title:"\u989c\u8272",type:"ys"}],ids:["5056:1"]},{name:"\u8de8\u5ea6",ename:"yskd",recentType:[{title:"\u8de8\u5ea6",type:"kd"}],ids:["5057:1"]}]),Object(g.a)(s,f.a.HC6,[{name:"\u7279\u7801",ename:"tema",recentType:[],ids:["7015:1","7001:1"]},{name:"\u7279\u8096",ename:"texiao",recentType:[],ids:["7007:1"],subMethods:[{s:!1,name:"\u5bb6\u79bd",v:"1",oddIndex:0,class:"",odd:"",noOdd:!0,ids:["7007:1"]},{s:!1,name:"\u91ce\u517d",v:"2",oddIndex:0,class:"",odd:"",noOdd:!0,ids:["7007:1"]}]},{name:"\u8272\u6ce2",ename:"sebo",recentType:[],ids:["7005:1"]},{name:"\u6b63\u4e00\u7801",ename:"zhengyima",recentType:[],ids:["7009:1"]},{name:"\u6b63\u4e8c\u7801",ename:"zhengerma",recentType:[],ids:["7010:1"]},{name:"\u6b63\u4e09\u7801",ename:"zhengshanma",recentType:[],ids:["7011:1"]},{name:"\u6b63\u56db\u7801",ename:"zhengshima",recentType:[],ids:["7012:1"]},{name:"\u6b63\u4e94\u7801",ename:"zhengwuma",recentType:[],ids:["7013:1"]},{name:"\u6b63\u516d\u7801",ename:"zhengliuma",recentType:[],ids:["7014:1"]}]),s);function C(e){return S[e]}function O(e,t){return(S[e]||[]).findIndex((function(e){return e.ids.find((function(e){return parseInt(e.split(":")[0],10)===t}))}))}var j,w,E,T=n(92),x=(n(260),Object(d.b)("store")(j=Object(d.c)(j=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(r.a)(this,Object(c.a)(t).call(this,e))).state=void 0,n.myScrollRef=void 0,n.onMenuHandler=function(e,t){n.props.updateMethodMenuIndex(t),n.props.methodMenuChangedCB(e)},n.state={menus:C(n.props.gameType),subMenus:[]},n.myScrollRef=l.a.createRef(),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.myScrollRef.current.refresh()}},{key:"componentWillReceiveProps",value:function(e,t){this.myScrollRef.current.refresh()}},{key:"render",value:function(){var e=this,t=C(this.props.gameType);return l.a.createElement("section",{className:"method-menu-view"},l.a.createElement("section",{className:"menu-wp"},l.a.createElement(T.a,{ref:this.myScrollRef},l.a.createElement("nav",{className:"menu-item-ls"},t.map((function(t,n){return l.a.createElement("div",{key:n,className:"menu-item ".concat(n===e.props.curMenuIndex?"selected":""),onClick:function(){e.onMenuHandler(t,n)}},l.a.createElement("span",null,t.name))}))))),l.a.createElement("section",{className:"sub-menu-wp"},l.a.createElement("nav",null)))}}]),t}(m.Component))||j)||j),k=n(93),N=(n(261),Object(d.b)("store")(w=Object(d.c)(w=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).methodItems=k.a,n.onSubMethodHandler=function(e,t){n.props.updateSubMethods(e),n.props.updateSubMethodMenuIndex(t)},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"parseId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(":")[0]||""}},{key:"getOddById",value:function(e,t){var n=this.props.odds[this.parseId(e[0])];return n&&n[t]&&n[t].maxprize||""}},{key:"render",value:function(){var e=this,t=this.props.subMethods;return l.a.createElement("section",{className:"sub-method-menu-view ".concat(this.props.gameType)},l.a.createElement("ul",{className:"flex fw-w sub-method-item-ls"},t&&t.map((function(t,n){return l.a.createElement("li",{className:"sub-method-item ".concat(t.class," ").concat(n===e.props.curSubMenuIndex?"selected":""),key:n,onClick:e.onSubMethodHandler.bind(e,t,n)},l.a.createElement("div",{className:"method-name"},t.name),!t.noOdd&&l.a.createElement("div",{className:"odd"},e.getOddById(t.ids,t.oddIndex)))}))))}}]),t}(m.Component))||w)||w),B=(n(262),function(e){function t(e){return Object(i.a)(this,t),Object(r.a)(this,Object(c.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"ds-row ".concat(this.props.className||""),onClick:this.props.onClick},this.props.children)}}]),t}(m.PureComponent)),H=(n(263),function(e){function t(e){return Object(i.a)(this,t),Object(r.a)(this,Object(c.a)(t).call(this,e))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getStyle",value:function(){var e={};return this.props.gutter&&(e.padding=this.props.gutter),e}},{key:"render",value:function(){return l.a.createElement("div",{className:"ds-col ".concat(this.props.span?"col-"+this.props.span:""," ").concat(this.props.className),style:this.getStyle(),onClick:this.props.onClick},this.props.children)}}]),t}(m.PureComponent)),G=(n(264),Object(d.b)("store")(E=Object(d.c)(E=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(r.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).methodItems=k.a,n.onMethodItemHandler=function(e,t,a,s,i,o){var r=s?"":String(n.props.defaultInitMethodItemAmount);r=["rx_nzn","zux_q2","zux_q3","zx_q2","zx_q3"].includes(i)?"0":r,n.props.updateMethodItem(e,t,a,!s,r)},n.onRowClickHandler=function(e,t,a){n.props.gameType===f.a.HC6&&n.props.updateMethodRow(e,t,!a)},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.forceUpdate()}},{key:"render",value:function(){var e=this,t=this.props.curGameMethodItems;return l.a.createElement("article",{className:"play-view ".concat(this.props.gameType)},t.map((function(t,n){return l.a.createElement("div",{className:"method ".concat(t.layout," ").concat(t.class||""," clear"),key:n},t.rows.map((function(a,s){return l.a.createElement(B,{key:s,className:"clear ".concat(a.s?"selected":""),onClick:function(){return e.onRowClickHandler(n,s,a.s)}},l.a.createElement(H,{span:a.col,className:"flex pos-label ".concat(a.hidePos?"hide":"")},l.a.createElement("div",{className:"pos-name"},a.n),a.subpn&&l.a.createElement("div",{className:"sub-pn"},a.subpn),!0===a.posOdd&&l.a.createElement("div",{className:"row-odd"},a.odd)),a.vs.map((function(i,o){return l.a.createElement(H,{span:i.col,key:o,className:"method-item-col ".concat(a.class||"")},l.a.createElement("div",{className:"method-item ".concat(i.class||""," ").concat(i.s?"selected":""),onClick:function(a){return e.onMethodItemHandler(n,s,o,i.s,t.methodTypeName,a)}},l.a.createElement("span",{className:"method-item-name",n:i.n},"icon"===i.class&&i.icons&&i.icons.map((function(e,t){return l.a.createElement("span",{className:"icon-item icon-item-".concat(e),key:t})})),"icon"!==i.class&&i.n),!0!==a.noodd&&!0!==t.posOdd&&l.a.createElement("span",{className:"odd"},i.odd||"")))})))})))})))}}]),t}(m.PureComponent))||E)||E),z=(n(251),n(252)),A=(n(58),n(31)),R=(n(253),n(254)),P=n(11),D=n.n(P),q=n(122),_=n(24);function W(e,t){return!e||!t||e<t||e<0||t<0?0:e===t?1:1===t?e:Math.ceil(function(e,t){return U(e)/U(e-t)}(e,t)/U(t))}function U(e){return 0===e?1:e*U(e-1)}var F=function(e){var t=0;return e.forEach((function(e){t+=e})),t},J={"1250:1":function(e){var t=e.nsl;return F(t)},"1251:1":function(e){var t=e.nsl;return F(t)},"1252:1":function(e){var t=e.nsl;return F(t)},"1253:1":function(e){var t=e.nsl;return F(t)},"1254:1":function(e){var t=e.nsl;return F(t)},"1256:1":function(e){var t=e.nsl;return F(t)},"1257:1":function(e){var t=e.nsl;return F(t)},"1258:1":function(e){var t=e.nsl;return F(t)},"1259:1":function(e){var t=e.nsl;return F(t)},"1273:1":function(e){var t=e.nsl;return F(t)},"1274:1":function(e){var t=e.nsl;return F(t)},"1275:1":function(e){var t=e.nsl;return F(t)},"1276:1":function(e){var t=e.nsl;return F(t)},"2050:1":function(e){var t=e.nsl;return F(t)},"2050:2":function(e){var t=e.nsl;return F(t)},"2051:1":function(e){var t=e.nsl;return F(t)},"2052:1":function(e){var t=e.nsl;return F(t)},"2053:1":function(e){var t=e.nsl;return F(t)},"2053:2":function(e){var t=e.nsl;return F(t)},"2054:1":function(e){var t=e.nsl;return W(t&&t[0],1)},"2077:1":function(e){var t=e.nsl;return W(t&&t[0],2)},"2078:1":function(e){var t=e.nsl;return W(t&&t[0],3)},"2079:1":function(e){var t=e.nsl;return W(t&&t[0],4)},"2080:1":function(e){var t=e.nsl;return W(t&&t[0],5)},"2081:1":function(e){var t=e.nsl;return W(t&&t[0],6)},"2082:1":function(e){var t=e.nsl;return W(t&&t[0],7)},"2083:1":function(e){var t=e.nsl;return W(t&&t[0],8)},"2055:1":function(e){var t=e.nsl;return W(t&&t[0],2)},"2056:1":function(e){var t=e.nsl;return W(t&&t[0],3)},"2057:1":function(e){var t=e.nsl,n=e.repeatCount;return function(e){var t=1;return e.forEach((function(e){t*=e})),t}(t)-(n||0)},"2058:1":function(e){var t=e.ns,n=0;return t&&t[0]&&t[0][0]&&t[0].forEach((function(e){t[1]&&t[1][0]&&t[1].forEach((function(a){t[2]&&t[2][0]&&t[2].forEach((function(t){e!==a&&e!==t&&a!==t&&n++}))}))})),n},"4050:1":function(e){var t=e.nsl;return F(t)},"4050:2":function(e){var t=e.nsl;return F(t)},"4051:1":function(e){var t=e.nsl;return F(t)},"4052:1":function(e){var t=e.nsl;return F(t)},"4053:1":function(e){var t=e.nsl;return F(t)},"4053:2":function(e){var t=e.nsl;return F(t)},"4054:1":function(e){var t=e.nsl;return F(t)},"4055:1:1":function(e){var t=e.nsl;return F(t)},"4055:1:2":function(e){var t=e.nsl;return F(t)},"4055:1:3":function(e){var t=e.nsl;return F(t)},"4055:1:4":function(e){var t=e.nsl;return F(t)},"4055:1:5":function(e){var t=e.nsl;return F(t)},"5050:1":function(e){var t=e.nsl;return F(t)},"5051:1":function(e){var t=e.nsl;return F(t)},"5052:1":function(e){var t=e.nsl;return F(t)},"5053:1":function(e){var t=e.nsl;return F(t)},"5054:1":function(e){var t=e.nsl;return F(t)},"5055:1":function(e){var t=e.nsl;return F(t)},"5056:1":function(e){var t=e.nsl;return F(t)},"5057:1":function(e){var t=e.nsl;return F(t)},"7001:1":function(e){return W(e.nsl[0],1)},"7006:1":function(e){return W(e.nsl[0],1)},"7007:1":function(e){var t=e.nsl;return F(t)},"7005:1":function(e){var t=e.nsl;return F(t)},"7008:1":function(e){var t=e.nsl;return W(F(t),1)},"7002:1":function(e){var t=e.nsl;return W(F(t),2)},"7003:1":function(e){var t=e.nsl;return W(F(t),3)},"7004:1":function(e){var t=e.nsl;return W(F(t),4)},"7009:1":function(e){var t=e.nsl;return W(t&&t[0],1)},"7010:1":function(e){var t=e.nsl;return W(t&&t[0],1)},"7011:1":function(e){var t=e.nsl;return W(t&&t[0],1)},"7012:1":function(e){var t=e.nsl;return W(t&&t[0],1)},"7013:1":function(e){var t=e.nsl;return W(t&&t[0],1)},"7014:1":function(e){var t=e.nsl;return W(t&&t[0],1)},"7015:1":function(e){var t=e.nsl;return W(t&&t[0],1)},"7016:1":function(e){var t=e.nsl;return W(t&&t[0],1)},"7017:1":function(e){var t=e.nsl;return W(t&&t[0],1)}};function K(e){if(e.length<1)return 0;var t=(e.join(",").split(",")||[]).filter((function(e){return e.length>0}));return t.length-Array.from(new Set(t)).length}n(269);var $,V,X,Q="order-bar-container",Y=["zx_q2","zx_q3"],Z=Object(d.b)("store")($=Object(d.c)($=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(r.a)(this,Object(c.a)(t).call(this,e))).state=void 0,n.calc=J,n.orderBarContainer=void 0,n.coinChoosed=function(e){var t="all"===e?parseInt(n.props.store.user.balance,10):parseInt(e,10);n.setState({amount:t}),n.props.updateDefaultInitMethodItemAmount(t)},n.onResetHandler=function(){R.a.alert(" ","\u60a8\u786e\u5b9a\u8981\u91cd\u7f6e\u9009\u4e2d\u7684\u6295\u6ce8\uff1f",[{text:"\u53d6\u6d88"},{text:"\u786e\u5b9a",onPress:function(){return n.props.resetSelectedOfAllMethodItem()}}])},n.onOrderHandler=function(){n.setState({showCoinSet:!1}),n.order()},n.onFocusHandler=function(){n.setState({showCoinSet:!0})},n.onAmountChanged=function(e){var t=e.target.value.trim(),a=e.type;t.length<=0&&(t="0"),console.log("type=",a),/^\d*$/g.test(t)||(t=String(n.props.defaultInitMethodItemAmount)),n.setState({amount:parseInt(t,10)}),n.props.updateDefaultInitMethodItemAmount(parseInt(t,10))},n.onBlurHandler=function(e){var t=e.target.value.trim();/^\d+$/g.test(t)||(t="-1"),n.setState({amount:parseInt(t,10)}),n.props.updateDefaultInitMethodItemAmount(parseInt(t,10))},n.state={amount:n.props.defaultInitMethodItemAmount,showCoinSet:!1},n.orderBarContainer=document.createElement("div"),n.orderBarContainer.className=Q,n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"validate",value:function(e){return e.issue?!(!e.betList||e.betList.length<=0)&&(e.totMoney<=0?(this.setState({showCoinSet:!0}),A.a.fail("\u8bf7\u8f93\u5165\u91d1\u989d\uff01"),!1):!!this.validateLimit(e.lotteryId,e.limitLevel,this.state.amount)&&(!e.errorMsg||(A.a.fail(e.errorMsg),!1))):(A.a.fail("\u83b7\u53d6\u6e38\u620f\u671f\u53f7\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5\uff01"),!1)}},{key:"validateHc6",value:function(e){return e.issue?!(!e.items||e.items.length<=0)&&(e.totalmoney<=0?(this.setState({showCoinSet:!0}),A.a.fail("\u8bf7\u8f93\u5165\u91d1\u989d\uff01"),!1):!!this.validateLimit(e.gameid,e.limitLevel,this.state.amount)&&(!e.errorMsg||(A.a.fail(e.errorMsg),!1))):(A.a.fail("\u83b7\u53d6\u6e38\u620f\u671f\u53f7\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5\uff01"),!1)}},{key:"validateLimit",value:function(e,t,n){var a=this.props.store.game.getLimitLevelData(e,t);return!a||!(n<a.minAmt||n>a.maxAmt)||(A.a.fail(n<a.minAmt?"\u60a8\u8f93\u5165\u7684\u91d1\u989d\u4e0d\u80fd\u4f4e\u4e8e\u6700\u4f4e\u9650\u7ea2":"\u60a8\u8f93\u5165\u7684\u91d1\u989d\u8d85\u8fc7\u6700\u9ad8\u9650\u7ea2"),!1)}},{key:"getParams",value:function(){var e=this,t=this.props,n=t.curGameMethodItems,a=t.store.game.getGameLimitLevelByGameId(t.gameId),s={lotteryId:t.gameId,issue:t.curIssue,totProjs:0,totMoney:0,isusefree:0,betList:[],isFastBet:1,limitLevel:a&&a.level||1},i="",o="",r="",c=0;return n.forEach((function(t){if(["rx_nzn"].includes(t.methodTypeName))c=e.calcBet(),s.totMoney=e.state.amount*c,r=t.rows[0].nc.join(","),s.betList.push({methodId:t.id.split(":")[0],projs:1,money:s.totMoney,content:r}),s.totProjs+=s.betList.length,r.split(",").length>8&&(s.errorMsg="\u8be5\u73a9\u6cd5\u4e00\u4e2a\u65b9\u6848\u6700\u591a\u9009\u62e98\u4e2a\u53f7\u7801\uff01");else if(["zux_q2","zux_q3"].includes(t.methodTypeName)){for(var n,a=t.rows.map((function(e){return e.nc}))[0],u=[],m={methodId:t.id.split(":")[0],projs:1,money:e.state.amount},l=0;l<=a.length-1;l++)for(var d=l+1;d<=a.length-1;d++)if(["zux_q2"].includes(t.methodTypeName)&&u.push(Object.assign({content:"".concat(a[l],",").concat(a[d])},m)),["zux_q3"].includes(t.methodTypeName))for(var h=l+2;h<=a.length-1;h++)a[d]>=a[h]||u.push(Object.assign({content:"".concat(a[l],",").concat(a[d],",").concat(a[h])},m));c=e.calcBet(),s.totMoney=e.state.amount*c,(n=s.betList).push.apply(n,u),s.totProjs+=u.length}else if(["zx_q2","zx_q3"].includes(t.methodTypeName)){for(var p,f=t.rows.map((function(e){return e.nc})),v=[],y={methodId:t.id.split(":")[0],projs:1,money:e.state.amount},g=0;g<f.length;g++)for(var I=0;I<f[g].length;I++)if(f[g+1])for(var b=0;b<f[g+1].length;b++)if(f[g][I]!==f[g+1][b])if(f.length>=3){if(!f[g+2])continue;for(var M=0;M<f[g+2].length;M++)f[g+1][b]!==f[g+2][M]&&f[g][I]!==f[g+2][M]&&v.push(Object.assign({content:"".concat(f[g][I],",").concat(f[g+1][b],",").concat(f[g+2][M])},y))}else v.push(Object.assign({content:"".concat(f[g][I],",").concat(f[g+1][b])},y));c=e.calcBet(),s.totMoney=e.state.amount*c,(p=s.betList).push.apply(p,v),s.totProjs+=v.length}else t.rows.forEach((function(n){n.vs.forEach((function(a){a.s&&(s.totMoney+=e.state.amount,s.totProjs++,i=n.nonasv?"":n.p||n.n,o=a.p?a.p+"-"+(a.pv||a.n):a.pv||a.n,r=i?i+"-"+o:o,s.betList.push({methodId:t.id.split(":")[0],projs:1,money:e.state.amount,content:r}))}))}))})),s}},{key:"getParamsHc6",value:function(){var e=this,t=this.props,n=t.curGameMethodItems,a=t.store.game.getGameLimitLevelByGameId(t.gameId),s={gameid:t.gameId,issue:t.curIssue,totalnums:0,totalmoney:0,type:1,isusefree:0,items:[],trace:"",isJoinPool:0,isFastBet:1,limitLevel:a&&a.level||1},i=[],o=0;return n.forEach((function(t){t.rows.forEach((function(n){console.log("count=",e.calcBet(),t.id),"row"===t.calcMode?n.s&&(i.push({methodid:t.id.split(":")[0],type:1,pos:"",codes:n.pv||n.n,count:1,times:e.state.amount,money:e.state.amount,mode:1,userpoint:"0.0000"}),o+=1):n.vs.forEach((function(n){n.s&&(i.push({methodid:t.id.split(":")[0],type:1,pos:n.pos,codes:n.p?n.p+"-"+(n.pv||n.n):n.pv||n.n,count:1,times:e.state.amount,money:e.state.amount,mode:1,userpoint:"0.0000"}),o+=1)}))}))})),s.totalmoney=i.length*this.state.amount,s.totalnums=o,s.items=JSON.stringify(i),s}},{key:"calcBet",value:function(){var e,t=this,n=this.props.curGameMethodItems,a=[],s=0;return n.forEach((function(t){e={id:t.id,rows:[],repeatCount:0},t.rows.forEach((function(t){e.rows.push(t.nc.slice(0))})),a.push(e)})),n.forEach((function(e){Y.includes(e.methodTypeName)&&(e.repeatCount=K(a.map((function(t){return t.id===e.id?t.rows:[]}))))})),n.forEach((function(e){["zx_q3"].includes(e.methodTypeName)||(a=a.map((function(t){return e.id===t.id&&(t.rows=t.rows.map((function(e){return e.length}))),t.repeatCount=e.repeatCount,t})))})),n.forEach((function(t){"row"===t.calcMode&&(a=[],e={id:t.id,rows:[],repeatCount:0},t.rows.forEach((function(t){t.s&&e.rows.push(t.pv||t.n)})),e.rows=[e.rows.length],a.push(e))})),a.forEach((function(e){s+=t.calc[e.id]({nsl:e.rows,ns:e.rows,repeatCount:e.repeatCount})})),s}},{key:"order",value:function(){var e=this,t=this.isHc6(),n=this[t?"getParamsHc6":"getParams"]();if(!this[t?"validateHc6":"validate"](n))return null;A.a.loading("\u6295\u6ce8\u4e2d...",0);var a=t?n:{betData:JSON.stringify(n)};setTimeout(A.a.hide,3e4),_.a[t?"booking":"bet"](a).then((function(t){var n=t.success,a=t.msg;e.resetAmount(),A.a.hide(),1===n?(A.a.success("\u6295\u6ce8\u6210\u529f",2),e.props.store.user.updateBalance(),e.props.orderFinishCB(!0)):(A.a.fail(a||"\u6295\u6ce8\u5931\u8d25"),e.props.orderFinishCB(!1))})).catch((function(){A.a.hide()}))}},{key:"componentDidMount",value:function(){document.body.appendChild(this.orderBarContainer)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.orderBarContainer)}},{key:"resetAmount",value:function(){this.setState({amount:0}),this.props.updateDefaultInitMethodItemAmount(0)}},{key:"isHc6",value:function(){return this.props.gameType===f.a.HC6}},{key:"render",value:function(){var e=l.a.createElement("section",{className:"order-bar-view"},this.state.showCoinSet&&l.a.createElement("section",null,l.a.createElement(q.a,{coinChoosed:this.coinChoosed,value:this.state.amount})),l.a.createElement("section",{className:"flex ai-c jc-sb order-sec"},l.a.createElement("div",null,l.a.createElement("div",{className:"flex ai-c fast-amount-wp"},l.a.createElement("input",{className:"fast-amount",type:"tel",value:this.state.amount<=0?"":this.state.amount,onChange:this.onAmountChanged,onBlur:this.onBlurHandler,onFocus:this.onFocusHandler,maxLength:9,placeholder:"\u8bf7\u8f93\u5165\u5feb\u6377\u91d1\u989d"}))),l.a.createElement("div",{className:"flex ai-c jc-e btns-wp"},l.a.createElement(z.a,{type:"primary",className:"btn-reset",disabled:this.props.betCount<=0,onClick:this.onResetHandler},"\u91cd\u7f6e"),l.a.createElement(z.a,{type:"primary",className:"btn-order",disabled:this.props.betCount<=0,onClick:this.onOrderHandler},"\u4e00\u952e\u4e0b\u5355"))));return D.a.createPortal(e,this.orderBarContainer)}}]),t}(m.Component))||$)||$,ee=n(28),te=Object(m.createContext)({gameId:-1,gameType:""}),ne=n(250),ae=n(43),se=(n(54),n(25)),ie=(n(270),Object(d.b)("store")(V=Object(d.c)(V=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(r.a)(this,Object(c.a)(t).call(this,e))).state=void 0,n.onLimitChoiceHandler=function(e,t){n.setState({curLimitIndex:t,level:e})},n.onCloseHandler=function(){n.props.onCloseHandler&&n.props.onCloseHandler()},n.onConfirmHandler=function(){n.props.onLimitChoiceCB(n.state.level)},n.state={limitLevelList:[],curLimitIndex:0,level:1},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.init(this.props)}},{key:"init",value:function(e){var t=(e.store.game.getGameLimitLevelByGameId(e.gameId)||{}).level||1,n=e.store.game.getLimitListItemById(e.gameId),a=n?n.kqPrizeLimit:[],s=a.findIndex((function(e){return e.level===t}));this.setState({limitLevelList:a,curLimitIndex:s,level:t})}},{key:"componentWillReceiveProps",value:function(e){this.init(e)}},{key:"render",value:function(){var e=this;return l.a.createElement("section",{className:"limit-set-dialog"},l.a.createElement(R.a,{className:"limit-set-modal",visible:!0,maskClosable:!1,title:""},l.a.createElement("header",{className:"flex ai-c jc-c limit-set-header"},"\u9650\u7ea2\u8bbe\u7f6e",this.props.isShowLimitSetDialogClose&&l.a.createElement(se.a,{type:"cross",onClick:this.onCloseHandler})),l.a.createElement("div",{className:"bg-white limit-set-content"},l.a.createElement("section",{className:"flex jc-c limit-list"},this.state.limitLevelList.map((function(t,n){return l.a.createElement(z.a,{key:n,className:"flex jc-c ai-c btn-limit-amount ".concat(e.state.curLimitIndex===n?"selected":""),onClick:function(){return e.onLimitChoiceHandler(t.level,n)}},t.minAmt,"-",t.maxAmt)}))),l.a.createElement("div",null,l.a.createElement(z.a,{className:"flex jc-c ai-c btn-confirm",onClick:this.onConfirmHandler},"\u786e\u5b9a")),l.a.createElement("div",{className:"limit-explain-tip"},l.a.createElement("p",null,"\u9650\u7ea2\u8bf4\u660e\uff1a"),l.a.createElement("p",null,"\u5f53\u5207\u6362\u4e0d\u540c\u7684\u9650\u7ea2\u6a21\u5f0f\u65f6\uff0c\u518d\u6b21\u6295\u6ce8\u540c\u4e00\u5f69\u79cd\uff0c\u9700\u81f3\u5c11\u95f4\u96941\u671f\u518d\u6295\u6ce8\u3002")))))}}]),t}(m.Component))||V)||V),oe=n(94),re=n(26),ce=(n(271),n(85)),ue=Object(d.b)("store")(X=Object(d.c)(X=function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(r.a)(this,Object(c.a)(t).call(this,e))).id=1,n.gameType="ssc",n.state=void 0,n.methodItems=k.a,n.calc=J,n.mysocket=void 0,n.onSetLimit=function(){n.setState({isShowLimitSetDialog:!n.state.isShowLimitSetDialog,isShowLimitSetDialogClose:!0,limitLevelList:n.props.store.game.getLimitDataOfKqByGameId(n.id)||[]})},n.updateMethodMenuIndex=function(e){n.setState({curMenuIndex:e})},n.updateSubMethodMenuIndex=function(e){n.setState({curSubMenuIndex:e})},n.methodMenuChangedCB=function(e){var t=n.getMethodItemsByIds(e.ids||[]),a=Object(ae.h)(n.gameType,e.ename),s=n.props.store.game.getLimitListItemById(n.id),i=s&&s.bestLudan,o=Object(ae.e)(n.gameType,e.ename,i&&i.codeStyle),r=n.gameType===f.a.HC6?-1:0;n.setState({subMethods:e.subMethods||[],curGameMethodItems:t,totalBetCount:0,totalBetAmount:0,curSubMenuIndex:r,curMenuEname:e.ename,defaultMenu:o&&o.name||"",isShowLudan:a&&a.length>0},n.updateOddsOfMethod)},n.updateSubMethods=function(e){var t;n.gameType===f.a.HC6?(t=n.state.curGameMethodItems,"texiao"===n.state.curMenuEname&&(t=n.updateHC6TexiaoMethodItems(t,e.v))):t=n.getMethodItemsByIds(e.ids||[]),n.setState({curSubMethod:e,curGameMethodItems:t},n.calcBet)},n.updateMethodItem=function(e,t,a,s,i){var o=n.state.curGameMethodItems;void 0!==s&&(o[e].rows[t].vs[a].s=s),void 0!==i&&(o[e].rows[t].vs[a].amt=i),n.setState({curGameMethodItems:o},n.calcBet)},n.updateMethodRow=function(e,t,a){var s=n.state.curGameMethodItems;void 0!==a&&(s[e].rows[t].s=a),n.setState({curGameMethodItems:s},n.calcBet)},n.updateDefaultInitMethodItemAmount=function(e){n.setState({defaultInitMethodItemAmount:e},n.calcBet)},n.resetSelectedOfAllMethodItem=function(){var e=n.state.curGameMethodItems;e=e.map((function(e){return e.rows=e.rows.map((function(e){return e.s=!1,e.vs=e.vs.map((function(e){if("object"===typeof e)return e.s=!1,e.amt="",e})),e})),e})),n.setState({curGameMethodItems:e,totalBetCount:0,totalBetAmount:0})},n.orderFinishCB=function(e){e&&n.resetSelectedOfAllMethodItem()},n.getCurIssue=function(e){_.a.curIssue({gameid:e}).then((function(e){e.success>0?n.setState({curIssue:e.issue,curTime:e.current,remainTime:Math.floor((e.saleend-e.current)/1e3)||n.state.remainTime+.05}):n.setState({curIssue:""})}))},n.changeTabIndex=function(e){n.setState({tabIndex:e})},n.onLimitChoiceCB=function(e){n.props.store.game.updateGamesLimitLevel({gameId:n.id,level:e}),n.onCloseLimitChoiceHandler()},n.onCloseLimitChoiceHandler=function(){n.setState({isShowLimitSetDialog:!1})},n.onGameHeaderUpdateHandler=function(e){"ludan"===e.type&&n.setState({isExpandLudan:e.data})},n.id=parseInt(n.props.match.params.id||"1",10),n.gameType=Object(ee.e)(n.id);var a=C(n.gameType),s=e.store.game.getLimitListItemById(n.id),o=s&&s.bestLudan,u=o&&O(n.gameType,o.methodId)||0,m=(a&&a[u]).ename,l=Object(ae.e)(n.gameType,m,o&&o.codeStyle),d=Object(ae.h)(n.gameType,m),h=n.props.store.game.getGameLimitLevelByGameId(n.id),p=n.gameType===f.a.HC6?-1:0;return n.state={id:1,curIssue:"",lastIssue:"",curTime:0,remainTime:0,openNumbers:[],curMenuIndex:u,curMenuEname:m,curSubMenuIndex:p,subMethods:[],curSubMethod:void 0,curGameMethodItems:n.getMethodItemsByIds(a&&a[u].ids||[]),odds:{},issueList:[],defaultInitMethodItemAmount:0,totalBetCount:0,totalBetAmount:0,tabIndex:0,maxColumns:21,maxRows:6,defaultMenu:l&&l.name||"",isShowLudan:d&&d.length>0,isExpandLudan:!1,isShowLimitSetDialog:!h,limitLevelList:s?s.kqPrizeLimit:[],isShowLimitSetDialogClose:!1},n.init(),re.a.emit("gameIdChanged",n.id),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"init",value:function(){var e=this;this.getCurIssue(this.id),this.getHistoryIssue(this.id),this.getBestLudanByGameId(this.id,(function(){e.getUserPoint(e.id)}))}},{key:"getLoginData",value:function(){var e=sessionStorage.getItem("sessionData"),t=Object(ce.a)("agentCode"),n=Object(ce.a)("param"),a={agentCode:t,param:n};return t||n||!e||(a=JSON.parse(e)),a}},{key:"initSocket",value:function(){var e=this;this.mysocket=new oe.a({url:this.props.store.common.broadcaseWSUrl,name:"gameIndex",receive:function(t){"openWinCode"===t.type&&e.openWinCode(parseInt(t.content[0].lottId,10),t.content[0]),t.type},open:function(){e.mysocket&&e.mysocket.send(JSON.stringify(Object.assign({action:"noauth"},{})))}},!0)}},{key:"componentDidMount",value:function(){var e=this;this.props.store.common.broadcaseWSUrl?this.initSocket():_.a.signIn(this.getLoginData()).then((function(t){t.success>0&&(e.props.store.common.setBroadcaseWSUrl(t.broadcaseWSUrl),e.initSocket())})),re.a.on("onSetLimit",this.onSetLimit)}},{key:"componentWillReceiveProps",value:function(e){if(this.id=parseInt(e.match.params.id||"1",10),this.gameType=Object(ee.e)(this.id),re.a.emit("gameIdChanged",this.id),this.props.match.params.id!==e.match.params.id){var t=this.props.store.game.getGameLimitLevelByGameId(this.id),n=this.props.store.game.getLimitListItemById(this.id);this.setState({isShowLimitSetDialog:!t,limitLevelList:t?[]:n?n.kqPrizeLimit:[]}),this.init()}}},{key:"openWinCode",value:function(e,t){if(e===this.id){var n=this.state.issueList;n.unshift(t),this.setState({lastIssue:n[0].issue,openNumbers:n[0].code.split(","),issueList:n}),this.getCurIssue(this.id)}}},{key:"getMethodItemsByIds",value:function(e){var t=this,n=[];return e.forEach((function(e){var a=t.methodItems[e]();a.rows=a.rows.map((function(e){return e.vs.map((function(e){return"object"===typeof e&&(e.val=""),e})),e})),n.push(Object.assign({id:e},a))})),n}},{key:"updateOddsOfMethod",value:function(e){if(!e)return this.getUserPoint(this.id),null;var t=this.state.curGameMethodItems,n="";t=t.map((function(t){return t.rows=t.rows.map((function(a){return n=t.id.split(":")[0],a.vs=a.vs.map((function(t){return"object"===typeof t&&e[n]&&e[n][t.oddIndex||0]&&(t.odd=e[n][t.oddIndex||0].maxprize),t})),a.posOdd&&(a.odd=e[n][a.oddIndex||0].maxprize),a})),t})),this.setState({curGameMethodItems:t})}},{key:"calcBet",value:function(){var e,t=this,n=[],a=0,s=0,i=this.state.curGameMethodItems;(i=i.map((function(e){return e.rows=e.rows.map((function(e){return e.nc=[],e.amtc=[],e.tmc=0,e.vs.forEach((function(t){"object"===typeof t&&t.s&&(e.nc.push(t.n),e.amtc.push(t.amt),e.tmc+=parseInt(t.amt||"0",10))})),s+=e.tmc,e})),e}))).forEach((function(t){e={id:t.id,methodTypeName:t.methodTypeName,rows:[],repeatCount:0},t.rows.forEach((function(t){e.rows.push(t.nc.slice(0))})),n.push(e)})),i.forEach((function(e){["zx_q2","zx_q3"].includes(e.methodTypeName)&&(e.repeatCount=K(n.map((function(t){return t.id===e.id?t.rows:[]}))))})),i.forEach((function(e){["zx_q3"].includes(e.methodTypeName)||(n=n.map((function(t){return e.id===t.id&&(t.rows=t.rows.map((function(e){return e.length}))),t.repeatCount=e.repeatCount,t})))})),i.forEach((function(t){"row"===t.calcMode&&(n=[],e={id:t.id,rows:[],repeatCount:0},t.rows.forEach((function(t){t.s&&e.rows.push(t.n||t.pv)})),e.rows=[e.rows.length],n.push(e))})),n.forEach((function(e){a+=t.calc[e.id]({nsl:e.rows,ns:e.rows,repeatCount:e.repeatCount}),["rx_nzn","zux_q2","zux_q3","zx_q2","zx_q3"].includes(e.methodTypeName)&&(s=a*t.state.defaultInitMethodItemAmount)})),this.setState({totalBetCount:a,totalBetAmount:s})}},{key:"getHistoryIssue",value:function(e){var t=this;_.a.historyIssue({gameid:e}).then((function(e){1===e.success&&e.items.length>0&&t.setState({lastIssue:e.items[0].issue,openNumbers:e.items[0].code.split(","),issueList:e.items})}))}},{key:"getUserPoint",value:function(e){var t=this;_.a.myNewPoint({gameid:e}).then((function(e){1===e.success&&(t.setState({odds:e.items}),t.updateOddsOfMethod(e.items))}))}},{key:"getLimitData",value:function(e){var t=this;_.a.lottSets({lotteryIds:e,v:1}).then((function(n){1===n.success&&(t.props.store.game.setLimitList([Object.assign({id:e},n.data[e])]),t.props.store.game.setLimitLevelList(n.data[e].kqPrizeLimit))}))}},{key:"componentWillUnmount",value:function(){this.mysocket&&this.mysocket.removeListen(),re.a.off("onSetLimit",this.onSetLimit)}},{key:"updateHC6TexiaoMethodItems",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="1"===t?v.b:v.a;return e=e.map((function(e){return e.rows=e.rows.map((function(e){return e.s=n.includes(e.n),e})),e}))}},{key:"updateInfoWithBestLudan",value:function(e){var t=C(this.gameType),n=e&&O(this.gameType,e.methodId)||0,a=t&&t[n]&&t[n].ename,s=Object(ae.e)(this.gameType,a,e&&e.codeStyle),i=Object(ae.h)(this.gameType,a);this.setState({curMenuIndex:n,curMenuEname:a,curGameMethodItems:this.getMethodItemsByIds(t&&t[n]&&t[n].ids||[]),subMethods:t&&t[n]&&t[n].subMethods||[],defaultMenu:s&&s.name||"",defaultSubMenu:s&&s.subM&&s.subM.length>0?e.codeStyle.split("_")[1]:"",isShowLudan:i&&i.length>0})}},{key:"getBestLudanByGameId",value:function(e,t){var n=this;_.a.getBestLudan({lotteryId:e}).then((function(e){n.updateInfoWithBestLudan(e.bestLudan),t&&t()}))}},{key:"render",value:function(){return l.a.createElement("article",{className:"game-view"},l.a.createElement(te.Provider,{value:{gameId:this.id,gameType:this.gameType}},l.a.createElement(y,{gameId:this.id,gameType:this.gameType,curIssue:this.state.curIssue,lastIssue:this.state.lastIssue,curTime:this.state.curTime,remainTime:this.state.remainTime,openNumbers:this.state.openNumbers,getNewestIssue:this.getCurIssue,isExpandLudan:this.state.isExpandLudan,update:this.onGameHeaderUpdateHandler}),this.state.isShowLudan&&this.state.isExpandLudan&&l.a.createElement(ne.a,{gameId:this.id,gameType:this.gameType,maxColumns:this.state.maxColumns,maxRows:this.state.maxRows,issueList:this.state.issueList.slice(0).reverse(),methodMenuName:this.state.curMenuEname,defaultMenu:this.state.defaultMenu}),l.a.createElement("section",{className:"game-main"},l.a.createElement(x,{gameType:this.gameType,curMenuIndex:this.state.curMenuIndex,methodMenuChangedCB:this.methodMenuChangedCB,updateMethodMenuIndex:this.updateMethodMenuIndex}),this.state.subMethods.length>0&&l.a.createElement(N,{gameType:this.gameType,curSubMenuIndex:this.state.curSubMenuIndex,subMethods:this.state.subMethods,odds:this.state.odds,updateSubMethods:this.updateSubMethods,updateSubMethodMenuIndex:this.updateSubMethodMenuIndex}),l.a.createElement(G,{curGameMethodItems:this.state.curGameMethodItems,gameType:this.gameType,defaultInitMethodItemAmount:this.state.defaultInitMethodItemAmount,updateMethodItem:this.updateMethodItem,updateMethodRow:this.updateMethodRow,curSubMethod:this.state.curSubMethod}),l.a.createElement(Z,{gameId:this.id,gameType:this.gameType,curIssue:this.state.curIssue,betCount:this.state.totalBetCount,amount:this.state.totalBetAmount,curGameMethodItems:this.state.curGameMethodItems,defaultInitMethodItemAmount:this.state.defaultInitMethodItemAmount,updateDefaultInitMethodItemAmount:this.updateDefaultInitMethodItemAmount,orderFinishCB:this.orderFinishCB,resetSelectedOfAllMethodItem:this.resetSelectedOfAllMethodItem}))),this.state.isShowLimitSetDialog&&this.props.store.game.limitList&&this.props.store.game.limitList.length>0&&l.a.createElement(ie,{isShow:this.state.isShowLimitSetDialog,isShowLimitSetDialogClose:this.state.isShowLimitSetDialogClose,gameId:this.id,limitLevelList:this.state.limitLevelList,onLimitChoiceCB:this.onLimitChoiceCB,onCloseHandler:this.onCloseLimitChoiceHandler}))}}]),t}(m.Component))||X)||X;t.default=ue}}]);
//# sourceMappingURL=3.65d7536f.chunk.js.map